<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="Author" CONTENT="Jeremy Friesner">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.05 [en] (WinNT; I) [Netscape]">
   <TITLE>SockHop Version History</TITLE>
</HEAD>
<BODY>
This page documents the changes added to SockHop
in each successive release.
<BR>&nbsp;
<BR>&nbsp;
<TABLE BORDER WIDTH="100%" >
<TR>
<TD>1.13Beta</TD>

<TD>
<UL>
<LI>
Added support for setting thread priorities of SockHop threads.&nbsp; Support
is added via extra arguments to the class constructors of the SHDirectConnection
class, extra callback methods in the SHAccessPolicy and SHDefaultAccessPolicy
classes, and extra arguments to the SH_COMMAND_SETPARAMETER and SH_COMMAND_GETPARAMETER
message types.</LI>

<LI>
Added support for batch messaging and automatic message compression via
zlib.&nbsp; Support added in the same manner as described above for thread
priority setting.</LI>

<LI>
Fixed the CTRL-C problem that appeared in v1.12Beta.&nbsp; Had to disable
some code on the PPC version, though.</LI>

<LI>
Broke binary compatibility with 1.12Beta and lower.&nbsp; You'll probably
need to recompile any SockHop apps.&nbsp; :^(</LI>
</UL>
</TD>
</TR>

<TR>
<TD>1.12Beta</TD>

<TD>
<UL>
<LI>
Rewrote the socket threading code so that it no longer uses signals or
"force-closes" sockets while other threads are using them.&nbsp; Instead,
it uses a reference-counting scheme to know when all threads are done using
the socket.&nbsp; This method is a lot easier on the net server, which
would sometimes crash before.</LI>

<LI>
Fixed a nasty bug in the SHSessionAcceptor code that was causing about
20% of all connection attempts to fail.&nbsp; Connecting is *much* more
reliable now.</LI>

<LI>
Moved the send and receive threads of the shConnection class into their
own object, the shConnectionImp.&nbsp; This allows the send and receive
threads to continue working (temporarily) even after their owning shConnection
has been destroyed.&nbsp; Because of this, node destructors (etc) return
much more quickly, as they no longer wait for all messages to be sent,
etc.&nbsp;</LI>

<LI>
libsockhop.so now registers a function with atexit() that will block until
all send/receive threads have exited.&nbsp; This is necessary because send/receive
threads do not take well to having the heap destroyed while they are working.&nbsp;
It can cause your program to appear to ignore ctrl-c keypresses, however--I
will try to alleviate this annoyance in the future.</LI>
</UL>
</TD>
</TR>

<TR>
<TD>1.11Beta</TD>

<TD>
<UL>
<LI>
Changed the licensing from GPL to LGPL so that non-GPL programs can link
to libsockhop.so.</LI>
</UL>
</TD>
</TR>

<TR>
<TD>1.10Beta</TD>

<TD>
<UL>
<LI>
Split off parts of the SHFileSpec class into the new SHFlavor class.&nbsp;
This modularization allows greater flexibility in downloading--now you
can create an SHFileSpec that specifies (n) files per architecture, instead
of just one.</LI>

<LI>
Changed the SHDistributableObject class's GetAddOnSpec() method to return
a status_t, to allow error handling.</LI>

<LI>
Put libsockhop.so under the GNU Public License.&nbsp; Note that only the
source code and header files for the library itself are under the GPL;
all other included files (including SockDemo, its add-ons, and all other
test/demo/example material) are released to the public domain.</LI>

<LI>
Added an fifth add-on, FlagWavingWorker, to the SockDemo package.&nbsp;
This one shows some fun animated pseudo-3D particle system eye candy using
colored rectangles.</LI>

<LI>
Munged the spelling of the SHW1ldPathSorter slightly in the HTML documentation,
to avoid legal hassles from a similarly-named company (!) who didn't like
the Web-search-engine results pollution.</LI>

<LI>
Ported to BeOS R4</LI>
</UL>
</TD>
</TR>

<TR>
<TD>1.00Beta</TD>

<TD>Initial beta release.&nbsp; Stable for small numbers of connections,
somewhat unreliable under heavy loads.&nbsp; Can make net_server crash
(try having SockDemo open 16 connections at once, for example).</TD>
</TR>
</TABLE>
&nbsp;
</BODY>
</HTML>
